!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.zango=e():t.zango=e()}(window,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e,n){"use strict";e.a={isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},isObject:function(t){return"[object Object]"===Object.prototype.toString.call(t)},merge:function(t,e){for(var n in e)try{e[n].constructor==Object?t[n]=Utils.merge(t[n],e[n]):t[n]=e[n]}catch(r){t[n]=e[n]}return t},clone:function(t){return JSON.parse(JSON.stringify(t))},resolve:function(t,e){return t.split(".").reduce(function(t,e){return t?t[e]:void 0},e||self)},uuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})}}},function(t,e,n){"use strict";var r=n(0);let o={format:function(t){return t?"string"==typeof t||"number"==typeof t?{_id:t}:t:{}},compare:function(t,e){for(var n,i,c=Object.keys(e),s=0;s<c.length;s++){n={name:c[s],value:e[c[s]]};var u=r.a.resolve(n.name,t);if(void 0===u&&"function"!=typeof o.Operators[n.name])return!1;if("function"==typeof o.Operators[n.name])return o.Operators[n.name](t,n.value);if("object"==typeof n.value){if(i=Object.keys(n.value)[0],"function"==typeof o.Operators[i])return o.Operators[i](u,n.value[i]);throw new Error("Unrecognised operator '"+i+"'")}return o.Operators.$eq(u,n.value)}return!0},Operators:{$eq:function(t,e){return t==e},$ne:function(t,e){return t!=e},$or:function(t,e){if(!r.a.isArray(e))throw new Error("$or Operator expects an Array");var n;if(r.a.isObject(t)){for(n=0;n<e.length;n++)if(o.compare(t,e[n]))return!0}else for(n=e.length;n>=0;n--)if(this.$eq(t,e[n]))return!0;return!1},$gt:function(t,e){return t>e},$gte:function(t,e){return t>=e},$lt:function(t,e){return t<e},$lte:function(t,e){return t<=e},$contains:function(t,e){return t.indexOf(e)>-1},$in:function(t,e){if(!r.a.isArray(e))throw new Error("$in Operator expects an Array");return e.indexOf(t)>-1},$nin:function(t,e){if(!r.a.isArray(e))throw new Error("$nin Operator expects an Array");return-1===e.indexOf(t)},$type:function(t,e){return"null"===e?null===t:"array"===e?r.a.isArray(t):typeof t===e}}};e.a=o},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return c}),n.d(e,"c",function(){return s});class r{constructor(t="keyval-store",e="keyval"){this.storeName=e,this._dbp=new Promise((n,r)=>{const o=indexedDB.open(t,1);o.onerror=()=>r(o.error),o.onsuccess=()=>n(o.result),o.onupgradeneeded=()=>{o.result.createObjectStore(e)}})}_withIDBStore(t,e){return this._dbp.then(n=>new Promise((r,o)=>{const i=n.transaction(this.storeName,t);i.oncomplete=()=>r(),i.onabort=i.onerror=()=>o(i.error),e(i.objectStore(this.storeName))}))}}let o;function i(){return o||(o=new r),o}function c(t,e=i()){let n;return e._withIDBStore("readonly",e=>{n=e.get(t)}).then(()=>n.result)}function s(t,e,n=i()){return n._withIDBStore("readwrite",n=>{n.put(e,t)})}},function(t,e,n){"use strict";n.r(e),function(t){var r=n(0),o=n(1),i=n(2);
/**
 * Pocket.js v2.2.0
 *
 * @file A blazing fast lightweight storage library
 * @author Vincent Racine vincentracine@hotmail.co.uk
 * @license MIT
 */
let c=function(t){var e=t&&t.dbname||"GK",n=t&&t.tableName||"dict",s=new i.a(e,n);function u(t){if(this.version="2.2.0",this.collections={},this.options=r.a.merge({dbname:e,driver:"idb"},t||{}),!this.options.driver)throw new Error("Storage driver was not found")}function a(t,e){if(!t)throw new Error("Collection requires a name");return this.name=t,this.documents=[],this.options=e||{},this.length=0,this}function f(t){if(!r.a.isObject(t))throw new Error("Invalid argument. Expected an Object.");return!1===t.hasOwnProperty("_id")&&(t._id=r.a.uuid()),this.object=t,this.object}return c.Drivers={DEFAULT:window.localStorage,SESSION_STORAGE:window.sessionStorage},u.prototype={collection:function(t,e){if(!t)throw new Error("Invalid argument. Expected a collection name.");var n=this.collections[t];return n||(n=new a(t,e||this.options),this.collections[t]=n),n},removeCollection:function(t){if(!t)return this;var e=this.collections[t];return e&&(e.destroy(),delete this.collections[t]),this},commit:function(t,e){if(!t)throw new Error("Invalid arguments. Expected collection name");var n=this.collections[t];return n&&n.commit(e),this},restore:function(t,e){var n=this.options.driver;if("function"==typeof t&&(e=t,t={}),e=e||function(){},this.options.driver===c.Drivers.DEFAULT||this.options.driver===c.Drivers.SESSION_STORAGE)for(var r=this.options.driver,o=r.length;o--;){var i=r.key(o);if(0==i.indexOf(this.options.dbname)){var s=r.getItem(i);if("string"==typeof s){var u,f=JSON.parse(s);(u=new a(f.name,f.options)).options.driver=n,u.documents=f.documents,u.length=f.documents.length,this.collections[u.name]=u}}}return this},destroy:function(){for(var t in this.collections)this.collections.hasOwnProperty(t)&&t instanceof a&&(t.destroy(),delete this.collections[t]);this.collections=[]}},a.prototype={insert:function(t,e){var n;return r.a.isArray(t)?n=t.map(function(t){return t=new f(t),this.documents.push(t),t},this):(n=new f(t),this.documents.push(n)),this.length=this.documents.length,this.commit(e)},find:function(t){var e,n,r=this;return(0===r.documents.length?Object(i.b)(r.options.dbname+"."+r.name,s):Promise.resolve(r)).then(function(i){for(r.documents=i.documents,r.length=i.length,n=r.documents.slice(0),t=o.a.format(t),e=Object.keys(t);e.length>0&&0!==n.length;)n=n.filter(function(n){var r={};return r[e[0]]=t[e[0]],o.a.compare(n,r)}),e.splice(0,1);return Promise.resolve(n)})},findOne:function(t){return this.find(t)[0]||null},update:function(t,e,n){return this.find(o.a.format(t)).forEach(function(t){var n=this.documents.indexOf(t);-1!==n&&(this.documents[n]=new f(r.a.merge(this.documents[n],e)))},this),this.commit(n)},remove:function(t,e){return this.find(o.a.format(t)).forEach(function(t){var e=this.documents.indexOf(t);-1!==e&&(this.documents.splice(e,1),this.length--)},this),this.commit(e)},commit:function(){var t=JSON.parse(JSON.stringify(this));return"idb"===this.options.driver?(console.log("commit",t.name,t),Object(i.c)(this.options.dbname.concat("."+t.name),t,s)):Promise.reject("commit fail")},size:function(){return this.documents.length},destroy:function(){var t=this;return t.remove().then(function(){return t.documents=t.options=t.name=null,Promise.resolve()})}},new u(t)};"undefined"!=typeof exports&&(t.exports&&(exports=t.exports=c),exports.Pocket=c),e.default=c}.call(this,n(4)(t))},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}}])});